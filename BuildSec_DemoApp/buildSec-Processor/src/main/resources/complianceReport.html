<!DOCTYPE HTML>
<html lang="en">
<head>
    <script src="report.js"></script>
    <link rel="stylesheet"
          href="http://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <style type="text/css">
.divTable {
	display: table;
	width: 100%;
}

.divTableRow {
	display: table-row;
}

.divTableCell, .divTableHead {
	border: 1px solid #999999;
	display: table-cell;
	padding: 3px 10px;
}

.divTableHeading {
	background-color: #EEE;
	display: table-header-group;
	font-weight: bold;
}

.divTableFoot {
	background-color: #EEE;
	display: table-footer-group;
	font-weight: bold;
}

.divTableBody {
	display: table-row-group;
}
</style>

    <script>
	var blnText = '';
	$(function() {
		$.each(androidManifest.usesPermissions, function(key, value) {
			blnText += value + ',';
		});
		//$('#mlist').attr("title", JSON.stringify(androidManifest.usesPermissions));
		$('#mlist').attr("title", blnText);
		$(document).tooltip();
		$('#user').text(user);
		$('#status').text(status);
		$('#pname').text(androidManifest.projectName);
		$('#pkgName').text(androidManifest.packageName);
		$('#jdkversion').text(jdkversion);
		$('#datetime').text(datetime);
		$('#confUsesPerm').text(config.usesPermission);
		$('#manifestCount').text(androidManifest.usesPerm);
		$('#confDBackup').text(config.allowDataBackup);
		$('#srcDBackup').text(androidManifest.allowBackup);
		$('#log').text(config.log);

        var statusMap = {"true" : "Pass", "false" : "Fail"};
		$('#comp_usesPermission').text(statusMap[complianceStatus.usesPermission]);
		$('#comp_dataBackup').text(statusMap[complianceStatus.dataBackup]);
		$('#comp_logEntries').text(statusMap[complianceStatus.noLogEntries]);
		if (complianceStatus.securityStatus == 'true'){
            $('#secStatus').css('background-color', 'greenyellow');
            $('#comp_securityStatus').text('Compliance');
		} else {
		  $('#secStatus').css('background-color', 'red');
            $('#comp_securityStatus').text('Non-Compliance');
		}
		if (message){
		    $('#message').text(message);
		}
	});
</script>
</head>
<body>
<div class="widget">
    <div class="divTable">
        <div class="divTableBody">
            <div class="divTableRow divTableHeading ">
                <div class="divTableCell" style="font-size: x-large;">Build
                    Secure Compliance Report</div>
            </div>
            <div class="divTableRow">
                <div class="divTableCell">Project Name</div>
                <div class="divTableCell">
                    <span id="pname"></span>
                </div>
                <div class="divTableCell">&nbsp;</div>
                <div class="divTableCell">&nbsp;</div>
            </div>
            <div class="divTableRow">
                <div class="divTableCell">Package</div>
                <div class="divTableCell">
                    <span id="pkgName"></span>
                </div>
                <div class="divTableCell">&nbsp;</div>
                <div class="divTableCell">&nbsp;</div>
            </div>
            <div class="divTableRow">
                <div class="divTableCell">Compiled by</div>
                <div class="divTableCell">
                    <span id="user"></span>
                </div>
                <div class="divTableCell">JDK</div>
                <div class="divTableCell">
                    <span id="jdkversion"></span>
                </div>
            </div>
            <div class="divTableRow">
                <div class="divTableCell">Date/Time</div>
                <div class="divTableCell">
                    <span id="datetime"></span>
                </div>
                <div class="divTableCell">&nbsp;</div>
                <div class="divTableCell">&nbsp;</div>
            </div>
            <div class="divTableRow">
                <div class="divTableCell">&nbsp;</div>
                <div class="divTableCell">Status</div>
                <div class="divTableCell">Config</div>
                <div class="divTableCell">Source</div>
            </div>
            <div class="divTableRow">
                <div class="divTableCell">Uses permissions</div>
                <div class="divTableCell"><span id="comp_usesPermission"></span></div>
                <div class="divTableCell"><span id="confUsesPerm"></span></div>
                <div id="mlist" class="divTableCell"><span id="manifestCount"></span>
                </div>
            </div>
            <div class="divTableRow">
                <div class="divTableCell">Data backup</div>
                <div class="divTableCell"><span id="comp_dataBackup"></span></div>
                <div class="divTableCell"><span id="confDBackup"></span></div>
                <div class="divTableCell"><span id="srcDBackup"></span></div>
            </div>
            <div class="divTableRow">
                <div class="divTableCell">Log Entries</div>
                <div class="divTableCell"><span id="comp_logEntries"></span></div>
                <div class="divTableCell">pass</div>
                <div class="divTableCell">fail</div>
            </div>
            <div class="divTableRow">
                <div class="divTableCell">Security Status</div>
                <div class="divTableCell" id="secStatus" style="background-color: grey;"><span id="comp_securityStatus"></span>
                </div>
            </div>
        </div>
    </div>
    <div>
        <hr/>
        <div>
            <span id="message"></span>
        </div>
    </div>
</div>

</body>
</html>